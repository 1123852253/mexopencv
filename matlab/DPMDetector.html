<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <link rel="stylesheet" href="helpwin.css">
      <title>MATLAB File Help: cv.DPMDetector</title>
   </head>
   <body>
      <!--Single-page help-->
      <table border="0" cellspacing="0" width="100%">
         <tr class="subheader">
            <td class="headertitle">MATLAB File Help: cv.DPMDetector</td>
            <td class="subheader-left"></td>
            <td class="subheader-right"><a href="index.html">Index</a></td>
         </tr>
      </table>
      <div class="title">cv.DPMDetector</div>
      <div class="helpcontent"><p>Deformable Part-based Models (DPM) detector</p>

<h2> Discriminatively Trained Part Based Models for Object Detection</h2>

<p>The object detector described below has been initially proposed by
P.F. Felzenszwalb in [Felzenszwalb2010a]. It is based on a
Dalal-Triggs detector that uses a single filter on histogram of
oriented gradients (HOG) features to represent an object category.
This detector uses a sliding window approach, where a filter is
applied at all positions and scales of an image. The first innovation
is enriching the Dalal-Triggs model using a star-structured
part-based model defined by a &quot;root&quot; filter (analogous to the
Dalal-Triggs filter) plus a set of parts filters and associated
deformation models. The score of one of star models at a particular
position and scale within an image is the score of the root filter at
the given location plus the sum over parts of the maximum, over
placements of that part, of the part filter score on its location
minus a deformation cost easuring the deviation of the part from its
ideal location relative to the root. Both root and part filter scores
are defined by the dot product between a filter (a set of weights)
and a subwindow of a feature pyramid computed from the input image.
Another improvement is a representation of the class of models by a
mixture of star models. The score of a mixture model at a particular
position and scale is the maximum over components, of the score of
that component model at the given location.</p>

<p>The detector was dramatically speeded-up with cascade algorithm proposed
by P.F. Felzenszwalb in [Felzenszwalb2010b]. The algorithm prunes
partial hypotheses using thresholds on their scores. The basic idea of
the algorithm is to use a hierarchy of models defined by an ordering of
the original model's parts. For a model with (n+1) parts, including the
root, a sequence of (n+1) models is obtained. The i-th model in this
sequence is defined by the first i parts from the original model. Using
this hierarchy, low scoring hypotheses can be pruned after looking at
the best configuration of a subset of the parts. Hypotheses that score
high under a weak model are evaluated further using a richer model.</p>

<h2> Example</h2>

<p>The basic usage is the following:</p>

<pre><code>img = imread(fullfile(mexopen<a href="root.html">cv.root</a>(),'test','cat.jpg'));
detector = <a href="DPMDetector.html">cv.DPMDetector</a>(fullfile(mexopen<a href="root.html">cv.root</a>(),'test','cat.xml'));
detections = detector.detect(img);
for i=1:numel(detections)
    img = <a href="rectangle.html">cv.rectangle</a>(img, detections(i).rect, 'Color',[0 255 0]);
end
imshow(img)
</code></pre>

<p>The detector can also accept multiple models as cell array of strings:</p>

<pre><code>detector = <a href="DPMDetector.html">cv.DPMDetector</a>({'cat.xml','car.xml'});
</code></pre>

<p>The XML file must be a format compatible to OpenCV's DPM detector, but
you can convert models from the original implementation in
[Felzenszwalb2010a] using <a href="DPMDetector.html">cv.DPMDetector</a>.mat2opencvxml method.</p>

<p>You can find examples of pre-trained models here:
<a href="https://github.com/Itseez/opencv_extra/tree/3.1.0/testdata/cv/dpm/VOC2007_Cascade/">https://github.com/Itseez/opencv_extra/tree/3.1.0/testdata/cv/dpm/VOC2007_Cascade/</a></p>

<h2> References</h2>

<p>[Felzenszwalb2010a]:</p>

<blockquote>
<p>P. Felzenszwalb, R. Girshick, D. McAllester, D. Ramanan
&quot;Object Detection with Discriminatively Trained Part Based Models&quot;.
IEEE Transactions on Pattern Analysis and Machine Intelligence,
Vol. 32, No. 9, pages 1627-1645, Sep. 2010.
<a href="http://www.cs.berkeley.edu/~rbg/papers/Object-Detection-with-Discriminatively-Trained-Part-Based-Models--Felzenszwalb-Girshick-McAllester-Ramanan.pdf">http://www.cs.berkeley.edu/~rbg/papers/Object-Detection-with-Discriminatively-Trained-Part-Based-Models--Felzenszwalb-Girshick-McAllester-Ramanan.pdf</a></p>
</blockquote>

<p>[Felzenszwalb2010b]:</p>

<blockquote>
<p>Pedro F. Felzenszwalb, Ross B. Girshick, and David McAllester.
&quot;Cascade Object Detection with Deformable Part Models&quot;.
IEEE Conference on Computer Vision and Pattern Recognition (CVPR),
2010, pages 2241-2248.
<a href="http://www.cs.berkeley.edu/~rbg/papers/Cascade-Object-Detection-with-Deformable-Part-Models--Felzenszwalb-Girshick-McAllester.pdf">http://www.cs.berkeley.edu/~rbg/papers/Cascade-Object-Detection-with-Deformable-Part-Models--Felzenszwalb-Girshick-McAllester.pdf</a></p>
</blockquote>
</div><!--after help --><!--seeAlso--><div class="footerlinktitle">See also</div><div class="footerlink"> <a href="DPMDetector.DPMDetector.html">cv.DPMDetector/DPMDetector</a>, <a href="DPMDetector.detect.html">cv.DPMDetector/detect</a></div>
      <!--Class-->
      <div class="sectiontitle">Class Details</div>
      <table class="class-details">
         <tr>
            <td class="class-detail-label">Superclasses</td>
            <td>handle</td>
         </tr>
         <tr>
            <td class="class-detail-label">Sealed</td>
            <td>false</td>
         </tr>
         <tr>
            <td class="class-detail-label">Construct on load</td>
            <td>false</td>
         </tr>
      </table>
      <!--Constructors-->
      <div class="sectiontitle"><a name="constructors"></a>Constructor Summary
      </div>
      <table class="summary-list">
         <tr class="summary-item">
            <td class="name"><a href="DPMDetector.DPMDetector.html">DPMDetector</a></td>
            <td class="m-help">Load and create a new detector&nbsp;</td>
         </tr>
      </table>
      <!--Properties-->
      <div class="sectiontitle"><a name="properties"></a>Property Summary
      </div>
      <table class="summary-list">
         <tr class="summary-item">
            <td class="name"><a href="DPMDetector.id.html">id</a></td>
            <td class="m-help">Object ID&nbsp;</td>
         </tr>
      </table>
      <!--Methods-->
      <div class="sectiontitle"><a name="methods"></a>Method Summary
      </div>
      <table class="summary-list">
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.addlistener.html">addlistener</a></td>
            <td class="m-help">Add listener for event.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.delete.html">delete</a></td>
            <td class="m-help">Destructor&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.detect.html">detect</a></td>
            <td class="m-help">Detects objects&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.eq.html">eq</a></td>
            <td class="m-help">== (EQ)   Test handle equality.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.findobj.html">findobj</a></td>
            <td class="m-help">Find objects matching specified conditions.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.findprop.html">findprop</a></td>
            <td class="m-help">Find property of MATLAB handle object.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.ge.html">ge</a></td>
            <td class="m-help">>= (GE)   Greater than or equal relation for handles.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.getClassCount.html">getClassCount</a></td>
            <td class="m-help">Return a count of loaded models (classes).&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.getClassNames.html">getClassNames</a></td>
            <td class="m-help">Get names of the object classes&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.gt.html">gt</a></td>
            <td class="m-help">> (GT)   Greater than relation for handles.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.isEmpty.html">isEmpty</a></td>
            <td class="m-help">Check if the detector is empty&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">Sealed 
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.isvalid.html">isvalid</a></td>
            <td class="m-help">Test handle validity.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.le.html">le</a></td>
            <td class="m-help"><= (LE)   Less than or equal relation for handles.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.lt.html">lt</a></td>
            <td class="m-help">< (LT)   Less than relation for handles.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">Static 
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.mat2opencvxml.html">mat2opencvxml</a></td>
            <td class="m-help">Convert DPM 2007 model (MAT) to cascade model (XML)&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.ne.html">ne</a></td>
            <td class="m-help">~= (NE)   Not equal relation for handles.&nbsp;</td>
         </tr>
         <tr class="summary-item">
            <td class="attributes">
               &nbsp;
               
            </td>
            <td class="name"><a href="DPMDetector.notify.html">notify</a></td>
            <td class="m-help">Notify listeners of event.&nbsp;</td>
         </tr>
      </table>
   </body>
</html>